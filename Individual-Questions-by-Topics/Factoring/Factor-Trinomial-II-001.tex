% !TEX root = ../MA119-Question-Bank.tex



% \pgfmathdeclarerandomlist{varx}{{x}{y}{p}{q}{z}}
\pgfmathdeclarerandomlist{varx}{{x}{y}}
\pgfmathrandomitem{\varx}{varx}
\edef\varx{\varx}


%%%%%%%%%List of coprime numbers < #1
% \pgfmathsetmacro{\randbound}{int(5)}

\pgfmathdeclarerandomlist{CoprimeWithOne}{
  {1}{2}{3}{4}{5}
}
 \pgfmathdeclarerandomlist{CoprimeWithTwo}{
  {1}{3}{5}
}
 \pgfmathdeclarerandomlist{CoprimeWithThree}{
  {1}{2}{4}{5}
}
 \pgfmathdeclarerandomlist{CoprimeWithFour}{
  {1}{3}{5}
}
 \pgfmathdeclarerandomlist{CoprimeWithFive}{
  {1}{2}{3}{4}
}



\pgfmathsetmacro{\aa}{int(random(2,3))}

%%%%%% generate random b coprime with a %%%
\pgfmathsetmacro{\bint}{int(random(2,5))}
\pgfmathtruncatemacro{\bb}{\bint/gcd(\aa,\bint)}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\pgfmathsetmacro{\rootc}{int(random(4,3))}
\pgfmathtruncatemacro{\cc}{\rootc^2}


 %%%%%% generate random d coprime c %%%
\pgfmathsetmacro{\initd}{int(random(2,5))}
\pgfmathtruncatemacro{\dd}{ifthenelse(gcd(\cc, \initd)==1, \initd, \initd/gcd(\cc,\initd) )}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%Check if d is a perfect square %%%%%%%%%% 
\pgfmathsetmacro{\rootd}{sqrt(\dd)}
\pgfmathtruncatemacro{\ird}{ifthenelse(\rootd==int(\rootd), \rootd, 0)}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


 \pgfmathtruncatemacro{\AA}{\aa*\cc}
 \pgfmathtruncatemacro{\CC}{(\bb)*(-\dd)}
 \pgfmathtruncatemacro{\bc}{(\bb)*\cc}
 \pgfmathtruncatemacro{\ad}{\aa*(-\dd)}
 \pgfmathtruncatemacro{\BB}{\ad+\bc}


Factor completely the following polynomial.
\[\AA \varx^4  \plusminus{\BB}\varx^2 \ifnum\CC>0 +\CC\else \CC\fi.\]

\begin{solution}

\begin{multicols}{2}

\[
\begin{split}
  &\AA\varx^4  \plusminus{\BB}\varx^2 \ifnum\CC>0 +\CC\else \CC\fi\\
  \ifnum\ird=0
    =&(\invisibleoneincoef{\aa}\varx^2+\bb)(\invisibleoneincoef{\cc}\varx^2-\dd).\\
  \else
    =&(\invisibleoneincoef{\aa}\varx^2+\bb)(\invisibleoneincoef{\cc}\varx^2-\dd)\\
    =&(\invisibleoneincoef{\aa}\varx^2+\bb)(\invisibleoneincoef{\rootc}\varx+\ird)(\invisibleoneincoef{\rootc}\varx-\ird).\\
  \fi
\end{split}
\]
\columnbreak

\begin{tikzpicture}
 \matrix (m) [
 matrix of math nodes,
row sep=-\pgflinewidth,
 column sep=-.5\pgflinewidth,
 minimum width=2em,
 ]
 { A=\AA &{}&C=\CC & \\
   \aa &{}&\bb & \\
   \cc &{}&-\dd &  \\
    \bc& + & \ad &=\BB=B\\
 };
 \path
   (m-2-1) edge (m-3-3)
   (m-2-3) edge (m-3-1); 
 \draw[red] (m-4-1.north west) -- (m-4-4.north east);  
\end{tikzpicture}
\end{multicols}

\end{solution}