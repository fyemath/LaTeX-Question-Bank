% !TEX root = ../MA119-Question-Bank.tex



% \pgfmathdeclarerandomlist{varx}{{x}{y}{p}{q}{z}}
\pgfmathdeclarerandomlist{varx}{{x}}
\pgfmathrandomitem{\varx}{varx}
\edef\varx{\varx}

\pgfmathdeclarerandomlist{vary}{{y}}
\pgfmathrandomitem{\vary}{vary}
\edef\vary{\vary}

%%%%%%%%%List of coprime numbers < #1
% \pgfmathsetmacro{\randbound}{int(5)}

\pgfmathdeclarerandomlist{CoprimeWithOne}{
  {1}{2}{3}{4}{5}
}
 \pgfmathdeclarerandomlist{CoprimeWithTwo}{
  {1}{3}{5}
}
 \pgfmathdeclarerandomlist{CoprimeWithThree}{
  {1}{2}{4}{5}
}
 \pgfmathdeclarerandomlist{CoprimeWithFour}{
  {1}{3}{5}
}
 \pgfmathdeclarerandomlist{CoprimeWithFive}{
  {1}{2}{3}{4}
}



% \pgfmathsetmacro{\a}{int(random(2,3))}
\pgfmathsetmacro{\a}{int(1)}


 %%%%%% generate random b coprime with a %%%
 \ifcase\a\relax%
  \or \pgfmathrandomitem{\b}{CoprimeWithOne}
  \or \pgfmathrandomitem{\b}{CoprimeWithTwo}
  \or \pgfmathrandomitem{\b}{CoprimeWithThree}
  % \or \pgfmathrandomitem{\b}{CoprimeWithFour}
  % \or \pgfmathrandomitem{\b}{CoprimeWithFive} 
 \fi
 \edef\b{\b}

 \pgfmathsetmacro{\c}{int(random(4,5))}

 %%%%%% generate random d coprime c %%%

 \ifcase\c\relax%
   \or \pgfmathrandomitem{\d}{}
   \or \pgfmathrandomitem{\d}{}
   \or \pgfmathrandomitem{\d}{}
   \or \pgfmathrandomitem{\d}{CoprimeWithFour}
   \or \pgfmathrandomitem{\d}{CoprimeWithFive}
 \fi
  \edef\d{\d}

  \pgfmathsetmacro{\e}{int(random(2,3))}

 %%%%%% generate random d coprime c %%%

 \ifcase\e\relax%
   \or \pgfmathrandomitem{\f}{CoprimeWithOne}
   \or \pgfmathrandomitem{\f}{CoprimeWithTwo}
   \or \pgfmathrandomitem{\f}{CoprimeWithThree}
   % \or \pgfmathrandomitem{\f}{CoprimeWithFour}
   % \or \pgfmathrandomitem{\f}{CoprimeWithFive}
 \fi
  \edef\f{\f}

% %%%%%%%%%%% generate different d %%%%
% \pgfmathdeclarerandomlist{DiffWithOne}{
% {1}{2}{3}{4}{5}{6}{7}{8}{9}
% }
%         % {10}{11}{12}{13}{14}{15}{16}{17}{18}{19}
%         % {20}{21}{22}{23}{24}{25}{26}{27}{28}{29}
%         % {30}{31}{32}{33}{34}{35}{36}{37}{38}{39}
%         % {40}{41}{42}{43}{44}{45}{46}{47}{48}{49}
%         % {50}{51}{52}{53}{54}{55}{56}{57}{58}{59}
%         % {60}{61}{62}{63}{64}{65}{66}{67}{68}{69}
%         % {70}{71}{72}{73}{74}{75}{76}{77}{78}{79}
%         % {80}{81}{82}{83}{84}{85}{86}{87}{88}{89}
%         % {90}{91}{92}{93}{94}{95}{96}{97}{98}{99}
%  \pgfmathdeclarerandomlist{DiffWithTwo}{
%  	{1}{3}{4}{5}{6}{7}{8}{9} 
%  }
%  \pgfmathdeclarerandomlist{DiffWithThree}{
%  	{1}{2}{4}{5}{6}{7}{8}{9}
%  }
%  \pgfmathdeclarerandomlist{DiffWithFour}{
%  	{1}{2}{3}{5}{6}{7}{8}{9}
%  }
%  \pgfmathdeclarerandomlist{DiffWithFive}{
%  	{1}{2}{3}{4}{6}{7}{8}{9}
%  }


% \pgfmathtruncatemacro{\b}{random(1,5)}
%  \ifcase\b\relax%
%    \or \pgfmathrandomitem{\d}{DiffWithOne}
%    \or \pgfmathrandomitem{\d}{DiffWithTwo}
%    \or \pgfmathrandomitem{\d}{DiffWithThree}
%    \or \pgfmathrandomitem{\d}{DiffWithFour}
%    \or \pgfmathrandomitem{\d}{DiffWithFive}
%  \fi


 \pgfmathtruncatemacro{\A}{\a*\c}
 \pgfmathtruncatemacro{\C}{(-\b)*(\d)}
 \pgfmathtruncatemacro{\B}{\a*(\d)+(-\b)*(\c)}

 \pgfmathtruncatemacro{\E}{\a*\e}
 \pgfmathtruncatemacro{\G}{(-\b)*(-\f)}
 \pgfmathtruncatemacro{\F}{\a*(-\f)+(-\b)*(\e)}

  \pgfmathtruncatemacro{\cSq}{\c^2}
  \pgfmathtruncatemacro{\dSq}{(-\d)^2}
  \pgfmathtruncatemacro{\eSq}{\e^2}
  \pgfmathtruncatemacro{\fSq}{(-\f)^2}


  \pgfmathsetmacro{\m}{int(random(2,3))}
  \pgfmathtruncatemacro{\me}{\m*\e}
  \pgfmathtruncatemacro{\mf}{\m*(\f)}

Simplify the rational expression.
\[
    \dfrac
      {\invisibleoneincoef{\A}\varx^2  \plusminus{\B}\varx \ifnum\C>0 +\C\else \C\fi}
      {\invisibleoneincoef{\me}\varx\vary - \invisibleoneincoef{\mf}\vary }
    \div 
    \dfrac
    {\cSq \varx^2- \dSq}
    {\invisibleoneincoef{\E}\varx^2  \plusminus{\F}\varx \ifnum\G>0 +\G\else \G\fi}
  .
\]

\begin{solution}
\[
	\begin{split}
		& 
    \dfrac
      {\invisibleoneincoef{\A}\varx^2  \plusminus{\B}\varx \ifnum\C>0 +\C\else \C\fi}
      { \invisibleoneincoef{\me}\varx\vary - \invisibleoneincoef{\mf}\vary  }
    \div 
    \dfrac
      {\cSq \varx^2- \dSq}
      {\invisibleoneincoef{\E}\varx^2  \plusminus{\F}\varx \ifnum\G>0 +\G\else \G\fi}
\\
	=	&
  \dfrac
        {\invisibleoneincoef{\A}\varx^2  \plusminus{\B}\varx \ifnum\C>0 +\C\else \C\fi}
        {\invisibleoneincoef{\me}\varx\vary - \invisibleoneincoef{\mf}\vary}
      \cdot 
      \dfrac
        {\invisibleoneincoef{\E}\varx^2  \plusminus{\F}\varx \ifnum\G>0 +\G\else \G\fi}
        {\cSq \varx^2- \dSq}
\\
  = &\dfrac
      {( \invisibleoneincoef{\a}\varx- \b )( \invisibleoneincoef{\c}\varx + \d )}
      {\m\vary(\invisibleoneincoef{\e}\varx - \f) }
    \cdot 
    \dfrac
      {( \invisibleoneincoef{\a}\varx- \b )( \invisibleoneincoef{\e}\varx - \f )}
      {( \invisibleoneincoef{\c}\varx- \d )( \invisibleoneincoef{\c}\varx + \d )}
\\
	=	&
  \dfrac
    {( \invisibleoneincoef{\a}\varx- \b )^2}
    {\m\vary(\invisibleoneincoef{\c}\varx - \d)}
	\end{split}
\]

\end{solution}